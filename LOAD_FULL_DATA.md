# Загрузка полных данных (166K проектов)

По умолчанию приложение запускается с **4 тестовыми проектами** для быстрой демонстрации.

## Для загрузки всех 166,849 проектов:

### 1. Остановите текущий backend
```bash
docker-compose down backend
```

### 2. Измените Dockerfile
Отредактируйте `backend/Dockerfile`, строку 22:

**Заменить:**
```dockerfile
CMD ["sh", "-c", "python data/scripts/create_test_data.py && uvicorn app.main:app --host 0.0.0.0 --port 8000"]
```

**На:**
```dockerfile
CMD ["sh", "-c", "python data/scripts/load_full_data.py && uvicorn app.main:app --host 0.0.0.0 --port 8000"]
```

### 3. Пересоберите и запустите
```bash
docker-compose up -d --build backend
```

### 4. Ждите загрузки
⏱️ **Время загрузки**: ~3-5 минут (166,849 записей)

Следите за прогрессом:
```bash
docker-compose logs -f backend
```

Увидите сообщения:
```
Обработано строк: 1000
Обработано строк: 2000
...
✅ Данные успешно загружены!
Всего строк обработано: 166849
```

### 5. Результат
После завершения загрузки:
- **Всего проектов**: 166,849
- **Победителей**: 32,107  
- **Общая сумма грантов**: 71.1 млрд ₽
- **Регионов**: 89
- **Организаций**: 47,583

## Проверка загрузки
```bash
# Статистика
curl "http://localhost:8001/api/v1/stats/overview"

# Первые проекты
curl "http://localhost:8001/api/v1/projects?limit=3"

# Регионы
curl "http://localhost:8001/api/v1/regions" | jq length
```

## Возврат к тестовым данным
Для быстрой демонстрации вернитесь к тестовым данным:
1. Измените обратно в Dockerfile на `create_test_data.py`
2. Пересоберите: `docker-compose up -d --build backend`

---
**Примечание**: Полные данные требуют больше времени на загрузку и обработку, но дают полную картину грантовой деятельности в России.


