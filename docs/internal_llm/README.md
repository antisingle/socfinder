# SocFinder Internal LLM - –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –≥—Ä–∞–Ω—Ç–æ–≤

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

**–ü–æ–¥–ø—Ä–æ–µ–∫—Ç SocFinder** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ LLM (Ollama). –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤ –∑–∞—è–≤–æ–∫.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
cd data/scripts

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –Ω–∞ 2 –ø—Ä–∏–º–µ—Ä–∞ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
python test_2_examples.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –Ω–∞ 10 –º–∏–Ω—É—Ç
python test_10_minutes_fixed.py
```

### 2. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
- –°–∏—Å—Ç–µ–º–∞ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL (—Ç–∞–±–ª–∏—Ü–∞ `projects`)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –≥—Ä–∞–Ω—Ç —á–µ—Ä–µ–∑ LLM (–º–æ–¥–µ–ª—å `llama3.1:8b`)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü—ã `problems` –∏ `solutions`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞

```
docs/internal_llm/           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md                # –û—Å–Ω–æ–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ QUICK_START.md           # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
‚îî‚îÄ‚îÄ PROJECT_MAP.md           # –ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞

data/scripts/                # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ test_2_examples.py       # –¢–µ—Å—Ç –Ω–∞ 2 –≥—Ä–∞–Ω—Ç–∞
‚îú‚îÄ‚îÄ test_10_minutes_fixed.py # –¢–µ—Å—Ç –Ω–∞ 10 –º–∏–Ω—É—Ç
‚îú‚îÄ‚îÄ ollama_analyzer.py       # –†–∞–±–æ—Ç–∞ —Å LLM
‚îî‚îÄ‚îÄ postgres_manager.py      # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `projects`** (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):
- `id`, `req_num`, `name`, `winner`, `date_req`, `description`, `goal`, `tasks`

**–¢–∞–±–ª–∏—Ü–∞ `problems`** (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
- `id`, `grant_id`, `problem_text`, `created_at`

**–¢–∞–±–ª–∏—Ü–∞ `solutions`** (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
- `id`, `grant_id`, `solution_text`, `created_at`

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PostgreSQL (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Docker)
- Ollama —Å –º–æ–¥–µ–ª—å—é `llama3.1:8b`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama
```bash
# macOS
brew install ollama

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å
ollama serve
ollama pull llama3.1:8b
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```bash
docker-compose up -d
```

### 3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
source venv/bin/activate
```

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–∏–∑

### –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –≥—Ä–∞–Ω—Ç–æ–≤:
1. **–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏** (`winner = true`) - —Å–Ω–∞—á–∞–ª–∞
2. **–ü–æ –¥–∞—Ç–µ** - –æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º (`date_req DESC`)

### –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç LLM:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ
- –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏
- –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∏ —Ü–µ–ª–µ–≤—ã–µ –≥—Ä—É–ø–ø—ã

### –ß—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç:
- **–ü—Ä–æ–±–ª–µ–º—ã:** –ö–¢–û —Å—Ç—Ä–∞–¥–∞–µ—Ç, –û–¢ –ß–ï–ì–û, –ì–î–ï, –ö–ê–ö –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è
- **–†–µ—à–µ–Ω–∏—è:** –ß–¢–û –¥–µ–ª–∞–µ—Ç—Å—è, –î–õ–Ø –ö–û–ì–û, –ì–î–ï, –ö–ê–ö–ò–ï —Ä–µ—Å—É—Ä—Å—ã

## üöÄ –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

### –¢–µ—Å—Ç –Ω–∞ 2 –ø—Ä–∏–º–µ—Ä–∞ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
```bash
python test_2_examples.py
# –í—Ä–µ–º—è: ~2 –º–∏–Ω—É—Ç—ã
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 2 –≥—Ä–∞–Ω—Ç–∞, ~6 –ø—Ä–æ–±–ª–µ–º, ~6 —Ä–µ—à–µ–Ω–∏–π
```

### –¢–µ—Å—Ç –Ω–∞ 10 –º–∏–Ω—É—Ç
```bash
python test_10_minutes_fixed.py
# –í—Ä–µ–º—è: 10 –º–∏–Ω—É—Ç
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ~14 –≥—Ä–∞–Ω—Ç–æ–≤, ~44 –ø—Ä–æ–±–ª–µ–º—ã, ~39 —Ä–µ—à–µ–Ω–∏–π
```

### –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (4 —á–∞—Å–∞)
```bash
# –°–∫–æ—Ä–æ—Å—Ç—å: ~1.4 –≥—Ä–∞–Ω—Ç–∞/–º–∏–Ω
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ~336 –≥—Ä–∞–Ω—Ç–æ–≤
# –ü—Ä–æ–≥—Ä–µ—Å—Å: 1.05% –æ—Ç –≤—Å–µ—Ö –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
```

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:
- **–í—Å–µ–≥–æ –≥—Ä–∞–Ω—Ç–æ–≤ –≤ –ë–î:** 166,849
- **–ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π:** 32,107
- **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 16 –≥—Ä–∞–Ω—Ç–æ–≤
- **–ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º:** 150
- **–ù–∞–π–¥–µ–Ω–æ —Ä–µ—à–µ–Ω–∏–π:** 145

### –ö–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞:
- **JSON –ø–∞—Ä—Å–∏–Ω–≥:** 100% —É—Å–ø–µ—à–Ω–æ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:** 100% —É—Å–ø–µ—à–Ω–æ
- **–í—Ä–µ–º—è –Ω–∞ –≥—Ä–∞–Ω—Ç:** ~36 —Å–µ–∫—É–Ω–¥

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: `'dict' object has no attribute 'strip'`
**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `postgres_manager.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

### LLM –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** `ollama serve` –∑–∞–ø—É—â–µ–Ω, –º–æ–¥–µ–ª—å `llama3.1:8b` —Å–∫–∞—á–∞–Ω–∞.

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** `docker-compose up -d`, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `localhost:5432`.

## üîÑ –ö–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –Ω–∞ 4 —á–∞—Å–∞
```bash
python test_10_minutes_fixed.py  # –°–Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç
# –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è 4 —á–∞—Å–æ–≤
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```bash
python -c "
from postgres_manager import PostgresManager
pg = PostgresManager()
print(pg.get_analysis_summary())
"
```

### 3. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞–Ω—Ç—ã
python -c "
from postgres_manager import PostgresManager
pg = PostgresManager()
conn = pg.get_connection()
cursor = conn.cursor()
cursor.execute('SELECT grant_id, COUNT(*) FROM problems GROUP BY grant_id ORDER BY COUNT(*) DESC LIMIT 5')
print(cursor.fetchall())
conn.close()
"
```

## üìù –õ–æ–≥–∏

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏:
- `test_*.log` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- `postgres_analysis.log` - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- `ollama_analysis.log` - —Ä–∞–±–æ—Ç–∞ —Å LLM

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –£—Å–∫–æ—Ä–∏—Ç—å —Å 36 —Å–µ–∫ –¥–æ 5 —Å–µ–∫ –Ω–∞ –≥—Ä–∞–Ω—Ç
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ 32,107 –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. **API:** –°–æ–∑–¥–∞—Ç—å REST API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 22 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:** SocFinder Internal LLM
