# React –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Docker: –≤–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

## üö® –ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**React –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`REACT_APP_*`) —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –°–ë–û–†–ö–ï, –∞ –Ω–µ –ø—Ä–∏ –ó–ê–ü–£–°–ö–ï –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!**

## üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–ª):
```bash
# 1. –°–±–æ—Ä–∫–∞ –±–µ–∑ build args
docker-compose build --no-cache

# 2. –ó–∞–ø—É—Å–∫ —Å env —Ñ–∞–π–ª–æ–º
docker-compose --env-file .env.production up -d
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–æ–±—Ä–∞–Ω —Å `REACT_APP_API_URL=http://localhost:8001/api` (–∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ .env), –Ω–æ –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç):
```bash
# 1. –°–±–æ—Ä–∫–∞ –° build args
docker-compose build --no-cache --build-arg REACT_APP_API_URL=http://antisingle.fvds.ru:8001/api

# 2. –ó–∞–ø—É—Å–∫ —Å env —Ñ–∞–π–ª–æ–º
docker-compose --env-file .env.production up -d
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–æ–±—Ä–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## üèóÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç React –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ü—Ä–∏ —Å–±–æ—Ä–∫–µ (build time):
- React —Å—á–∏—Ç—ã–≤–∞–µ—Ç `REACT_APP_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏—Ö –≤ JavaScript –∫–æ–¥
- –°–æ–∑–¥–∞–µ—Ç production build

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ (runtime):
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∂–µ "–∑–∞—à–∏—Ç—ã" –≤ –∫–æ–¥
- –ò–∑–º–µ–Ω–∏—Ç—å –∏—Ö –Ω–µ–ª—å–∑—è –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

## üîß –†–µ—à–µ–Ω–∏–µ –≤ deploy.sh

```bash
# –í–ê–ñ–ù–û: --build-arg –Ω—É–∂–µ–Ω –¥–ª—è React –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
docker-compose build --no-cache --build-arg REACT_APP_API_URL=http://antisingle.fvds.ru:8001/api

# --env-file —Ç–æ–ª—å–∫–æ –¥–ª—è runtime –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (DATABASE_URL, POSTGRES_PASSWORD)
docker-compose --env-file .env.production up -d
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- [ ] `--build-arg REACT_APP_API_URL=...` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- [ ] `--env-file .env.production` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- [ ] `--no-cache` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ùå –ù–µ –¥–µ–ª–∞—Ç—å:
- [ ] –°–±–æ—Ä–∫–∞ –±–µ–∑ build args
- [ ] –ó–∞–ø—É—Å–∫ –±–µ–∑ env —Ñ–∞–π–ª–∞
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

## üéØ –í—ã–≤–æ–¥

**–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `--build-arg` –¥–ª—è React –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Docker!**

–ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ URL, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ.
