<!DOCTYPE html>
<html>
<head>
    <title>SocFinder API Test</title>
</head>
<body>
    <h1>SocFinder API Test</h1>
    <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div id="data"></div>
    <hr>
    <h2>–¢–µ—Å—Ç —Å –ª–∏–º–∏—Ç–æ–º 5000:</h2>
    <div id="test5000">–¢–µ—Å—Ç–∏—Ä—É–µ–º...</div>
    <hr>
    <h2>–¢–µ—Å—Ç –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</h2>
    <div id="fullData">–ü—Ä–æ–≤–µ—Ä—è–µ–º...</div>
    
    <script>
        console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...');
        
        // –¢–µ—Å—Ç 1: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        fetch('http://localhost:8001/api/v1/stats/overview')
            .then(response => {
                console.log('Stats Response status:', response.status);
                document.getElementById('status').innerHTML = `Stats Status: ${response.status}`;
                return response.json();
            })
            .then(data => {
                console.log('Stats API Data:', data);
                document.getElementById('data').innerHTML = `
                    <h2>‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç!</h2>
                    <p>–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: ${data.total_projects}</p>
                    <p>–ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π: ${data.total_winners}</p>
                    <p>–û–±—â–∞—è —Å—É–º–º–∞: ${data.total_money} ‚ÇΩ</p>
                    <p>–†–µ–≥–∏–æ–Ω–æ–≤: ${data.regions_count}</p>
                `;
            })
            .catch(error => {
                console.error('Stats API Error:', error);
                document.getElementById('status').innerHTML = '‚ùå –û—à–∏–±–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: ' + error.message;
            });
            
        // –¢–µ—Å—Ç 2: –ü—Ä–æ–µ–∫—Ç—ã —Å –ª–∏–º–∏—Ç–æ–º 5000
        fetch('http://localhost:8001/api/v1/projects?limit=5000')
            .then(response => {
                console.log('Projects Response status:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('Projects API Data:', data);
                document.getElementById('test5000').innerHTML = `
                    <h3>‚úÖ –õ–∏–º–∏—Ç 5000 —Ä–∞–±–æ—Ç–∞–µ—Ç!</h3>
                    <p>–ü–æ–ª—É—á–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: ${data.length}</p>
                    <p>–ü–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç: ${data[0]?.name || '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}</p>
                `;
            })
            .catch(error => {
                console.error('Projects API Error:', error);
                document.getElementById('test5000').innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤: ' + error.message;
            });
            
        // –¢–µ—Å—Ç 3: –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        fetch('http://localhost:8001/api/v1/stats/overview')
            .then(response => {
                console.log('Full Data Response status:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('Full Data API Data:', data);
                document.getElementById('fullData').innerHTML = `
                    <h3>üéâ –í–°–ï –î–ê–ù–ù–´–ï –ó–ê–ì–†–£–ñ–ï–ù–´!</h3>
                    <p>–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: ${data.total_projects.toLocaleString()}</p>
                    <p>–ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π: ${data.total_winners.toLocaleString()}</p>
                    <p>–û–±—â–∞—è —Å—É–º–º–∞: ${data.total_money.toLocaleString()} ‚ÇΩ</p>
                    <p>–†–µ–≥–∏–æ–Ω–æ–≤: ${data.regions_count}</p>
                    <p>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π: ${data.organizations_count.toLocaleString()}</p>
                `;
            })
            .catch(error => {
                console.error('Full Data API Error:', error);
                document.getElementById('fullData').innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: ' + error.message;
            });
    </script>
</body>
</html>


